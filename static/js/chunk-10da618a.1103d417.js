(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10da618a"],{"6ca7":function(t,e,a){},ac7c:function(t,e,a){"use strict";var i=a("15fd"),r=a("5530"),n=(a("d3b7"),a("25f0"),a("6ca7"),a("ec29"),a("9d26")),o=a("c37a"),s=(a("4de4"),a("5607")),c=a("2b0e"),l=c["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),u=a("8547"),d=a("58df");function h(t){t.preventDefault()}var p=Object(d["a"])(o["a"],l,u["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,a=this.internalValue;return this.isMultiple?!!Array.isArray(a)&&a.some((function(a){return t.valueComparator(a,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,a):Boolean(a):this.valueComparator(a,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=o["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:h},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:h},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,a=this.internalValue;if(this.isMultiple){Array.isArray(a)||(a=[]);var i=a.length;a=a.filter((function(a){return!t.valueComparator(a,e)})),a.length===i&&a.push(e)}else a=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(a,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(a,e)?null:e:!a;this.validate(!0,a),this.internalValue=a,this.hasColor=a}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),m=["title"];e["a"]=p.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(i["a"])(t,m));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(r["a"])(Object(r["a"])({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},e2d5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:!0}},[a("UpdateCategoryDialog",{attrs:{category:t.category},on:{toggleUpdate:t.update}}),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"font-weight-bold mb-3"},[t._v("Все категории")]),a("v-breadcrumbs",{staticClass:"px-0 py-0 mb-3",attrs:{items:t.items,divider:"/"},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[a("v-breadcrumbs-item",{attrs:{disabled:i.disabled,exact:!0,to:{name:i.to.name}}},[t._v(" "+t._s(i.text.toUpperCase())+" ")])]}}])})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"mb-3"},[a("CategoriesTable",{attrs:{categories:t.categories},on:{toggleUpdateCategory:t.toggleUpdateCategory}})],1)])],1)],1)},r=[],n=a("1da1"),o=a("5530"),s=(a("96cf"),a("2f62")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",t._b({staticClass:"elevation-4",attrs:{headers:t.headers,items:t.categories,options:{page:1,itemsPerPage:10},page:t.filter.page},on:{pagination:t.updatePaginate},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Все категории")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("CreateCategoryDialog")],1)]},proxy:!0},{key:"item.id",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.id)+" ")]}},{key:"item.name",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.name)+" ")]}},{key:"item.price",fn:function(){return[t._v(" Включено ")]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editCategory(i.id)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteProduct(i.id)}}},[t._v(" mdi-delete ")])]}}])},"v-data-table",t.$attrs,!1))},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary lighten-2",dark:""}},"v-btn",r,!1),i),[t._v(" Создать ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Создание категории")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Название"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.form.is_show?"Показывать":"Скрывать"},model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.create}},[t._v(" Создать ")])],1)],1)],1)},d=[],h=(a("b0c0"),{name:"CreateCategoryDialog",data:function(){return{dialog:!1,form:{name:"",is_show:!0}}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])({createCategory:"fetchCreateCategory",loadCategories:"fetchCategories"})),{},{create:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createCategory(t.form);case 2:return e.next=4,t.loadCategories();case 4:t.close(),t.clearForm();case 6:case"end":return e.stop()}}),e)})))()},close:function(){this.dialog=!1},clearForm:function(){this.form.name=""}})}),p=h,m=a("2877"),f=a("6544"),v=a.n(f),g=a("8336"),b=a("b0af"),C=a("99d9"),y=a("ac7c"),x=a("62ad"),V=a("a523"),k=a("169a"),w=a("ce7e"),_=a("0fd9"),$=a("2fa4"),O=a("8654"),j=Object(m["a"])(p,u,d,!1,null,"68c40e76",null),I=j.exports;v()(j,{VBtn:g["a"],VCard:b["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCheckbox:y["a"],VCol:x["a"],VContainer:V["a"],VDialog:k["a"],VDivider:w["a"],VRow:_["a"],VSpacer:$["a"],VTextField:O["a"]});var S={name:"CategoriesTable",inheritAttrs:!1,data:function(){return{headers:[{text:"Номер",align:"start",sortable:!1,value:"id"},{text:"Название категории",sortable:!1,value:"name"},{text:"Отображение",sortable:!1,value:"price"},{text:"Действия",sortable:!1,value:"actions"}],filter:{page:1,pageCount:3,itemsPerPage:20}}},methods:{updatePaginate:function(t){this.$emit("updatePaginate",t)},editCategory:function(t){this.$emit("toggleUpdateCategory",t)}},components:{CreateCategoryDialog:I},props:{categories:{type:Array,required:!0}}},D=S,A=a("8fea"),T=a("132d"),R=a("71d9"),U=a("2a7f"),B=Object(m["a"])(D,c,l,!1,null,"45e213cd",null),E=B.exports;v()(B,{VDataTable:A["a"],VDivider:w["a"],VIcon:T["a"],VSpacer:$["a"],VToolbar:R["a"],VToolbarTitle:U["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"600"},on:{"click:outside":t.close},model:{value:t.$store.state.dialogs.dialogs.category.update,callback:function(e){t.$set(t.$store.state.dialogs.dialogs.category,"update",e)},expression:"$store.state.dialogs.dialogs.category.update"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Обновление категории")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Название"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.form.is_show?"Показывать":"Скрывать"},model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.update}},[t._v(" Обновить ")])],1)],1)],1)},F=[],M={name:"UpdateCategoryDialog",data:function(){return{form:{name:""},dialog:!1}},methods:{update:function(){this.$emit("toggleUpdate",{id:this.form.id,data:this.form})},close:function(){this.$emit("outside",!1)}},computed:{parametersCategory:{get:function(){return this.$props.category}}},watch:{category:{immediate:!0,handler:function(t){for(var e in t)this.form[e]=t[e]}}},props:{category:{type:Object}}},L=M,z=Object(m["a"])(L,P,F,!1,null,null,null),J=z.exports;v()(z,{VBtn:g["a"],VCard:b["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VCheckbox:y["a"],VCol:x["a"],VContainer:V["a"],VDialog:k["a"],VDivider:w["a"],VRow:_["a"],VSpacer:$["a"],VTextField:O["a"]});var K={name:"Categories",metaInfo:{title:"Шестерёнка | Категории"},data:function(){return{items:[{text:"Панель",disabled:!1,to:{name:"Orders"}},{text:"Все категории",disabled:!0,to:{name:"Categories"}}]}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])({loadCategories:"fetchCategories",loadCategory:"fetchCategory",updateCategory:"fetchUpdateCategory",show:"show"})),{},{toggleUpdateCategory:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.loadCategory(t);case 2:e.show("category:update");case 3:case"end":return a.stop()}}),a)})))()},update:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.id,r=t.data,a.next=3,e.updateCategory({id:i,data:r});case 3:return a.next=5,e.loadCategories();case 5:e.show("category:update");case 6:case"end":return a.stop()}}),a)})))()}}),computed:Object(o["a"])({},Object(s["c"])({categories:"getCategories",category:"getCategory"})),components:{CategoriesTable:E,UpdateCategoryDialog:J},beforeMount:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadCategories();case 2:case"end":return e.stop()}}),e)})))()}},q=K,G=a("2bc5"),H=a("f625"),N=Object(m["a"])(q,i,r,!1,null,"1cd42ea2",null);e["default"]=N.exports;v()(N,{VBreadcrumbs:G["a"],VBreadcrumbsItem:H["a"],VCol:x["a"],VContainer:V["a"],VRow:_["a"]})},ec29:function(t,e,a){}}]);
//# sourceMappingURL=chunk-10da618a.1103d417.js.map